<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JavaScript Chat Box</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
        padding: 20px;
    }
    .chatbox {
        width: 400px;
        background-color: #fff;
        border: 1px solid #ccc;
        padding: 20px;
        margin: 0 auto;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .chat {
        margin-bottom: 10px;
    }
    .user {
        color: #007bff;
    }
    .system {
        color: #28a745;
    }
    .output {
        margin-top: 10px;
        border-top: 1px solid #ccc;
        padding-top: 10px;
    }
</style>
</head>
<body>

<div class="chatbox">
    <div class="chat">
        <span class="system">System:</span> Welcome to the chat box! Type your JavaScript code below.
    </div>
    <div class="chat">
        <span class="user">You:</span> <input type="text" id="userInput" style="width: 300px;" value="">
        <button onclick="runScript()">Run</button>
        <button onclick="clearCode()">Clear</button>
    </div>
    <div class="output" id="output"></div>
</div>

<script>
    // Function to run the script entered by the user
    function runScript() {
        var userInput = document.getElementById('userInput').value;
        try {
            var result = eval(userInput);
            document.getElementById('output').innerHTML = '<div class="chat"><span class="system">System:</span> Result: ' + result + '</div>';
            // Save the script to localStorage
            localStorage.setItem('savedCode', userInput);
        } catch (error) {
            document.getElementById('output').innerHTML = '<div class="chat"><span class="system">System:</span> Error: ' + error.message + '</div>';
        }
    }

    // Function to clear the saved code from localStorage
    function clearCode() {
        localStorage.removeItem('savedCode');
        document.getElementById('userInput').value = '';
        document.getElementById('output').innerHTML = '<div class="chat"><span class="system">System:</span> Code cleared.</div>';
    }

    // Automatically run the saved code on page load
    window.onload = function() {
        var savedCode = localStorage.getItem('savedCode');
        if (savedCode) {
            document.getElementById('userInput').value = savedCode;
            runScript();
        }
    };
</script>

</body>
</html>
